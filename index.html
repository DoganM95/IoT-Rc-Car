<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
    <!-- include socket.io client side script -->
</head>

<body>
    <h1>First run</h1>
    <div id="buttons">
        <button id="motorState">Run Da Motor</button> <!-- listen per eventlistener on any events -->
        <button id="servoLeftButton">Turn Servo Left</button>
        <button id="servoRightButton">Turn Servo Right</button>
    </div>


    <script>
        var socket = io(); //load socket.io-client and connect to the host that serves the page

        window.addEventListener("load", function () { //when page loads
            let motor = document.getElementById("motorState");
            let servoLeftElement = document.getElementById("servoLeftButton");
            let servoRightElement = document.getElementById("servoRightButton");

            //Event Listeners:
            motor.addEventListener("mousedown", function () { //add event listener for when checkbox changes
                socket.emit("motorSocket", 1); //send motor-run action (== 1)
            });
            motor.addEventListener("mouseup", function () {
                socket.emit("motorSocket", 0); //send motor-stop action (== 0)
            });
            servoLeftElement.addEventListener("click", function () {
                socket.emit("servoSocket", 1);
            });
            servoRightElement.addEventListener("click", function () {
                socket.emit("servoSocket", 0);
            });
            document.addEventListener("keypress", (key)=>{
                console.log("Key: " + key.keyCode + "pressed.")
            })

        });
    </script>
</body>

</html>